<!-- Description: This is the script for the pong animation on the pages of our website. -->

<div id="square" style="position: absolute; top: 50%; left: 50%; width: 20px; height: 20px; background-color: black;"></div>
<script>
    var square = document.getElementById("square");
    var x = 50; // initial x position
    var y = 50; // initial y position
    var dx = 4; // x velocity
    var dy = 2; // y velocity

    function animateSquare() {
        x += dx;
        y += dy;

        // Check if the square has reached the edges
        if (x <= 0 || x >= window.innerWidth - 20) {
            dx = -dx; // reverse x velocity
        }
        if (y <= 0 || y >= window.innerHeight - 20) {
            dy = -dy; // reverse y velocity
        }

        square.style.width = "10px"; // set width to half of the original size
        square.style.height = "10px"; // set height to half of the original size

        square.style.left = x + "px";
        square.style.top = y + "px";

        requestAnimationFrame(animateSquare);
    }
    var barWidth = 10; // width of the bars
    var barHeight = 200; // height of the bars
    var barSpeed = 3; // speed of the bars

    var leftBar = document.createElement("div");
    leftBar.style.position = "absolute";
    leftBar.style.width = barWidth + "px";
    leftBar.style.height = barHeight + "px";
    leftBar.style.backgroundColor = "black";
    leftBar.style.top = getRandomPosition() + "px"; // Set random top position
    square.style.zIndex = "9999"; // Set a high z-index value for the square
    document.body.appendChild(leftBar);

    var rightBar = document.createElement("div");
    rightBar.style.position = "absolute";
    rightBar.style.width = barWidth + "px";
    rightBar.style.height = barHeight + "px";
    rightBar.style.backgroundColor = "black";
    rightBar.style.right = "10px"; // Set fixed right position
    rightBar.style.top = getRandomPosition() + "px"; // Set random top position
    document.body.appendChild(rightBar);

    function getRandomPosition() {
        var min = 10; // Minimum position
        var max = window.innerHeight - barHeight - 10; // Maximum position
        return Math.floor(Math.random() * (max - min + 1) + min);
    }

    var leftBarDirection = -1; // -1 for moving up
    var rightBarDirection = 1; // 0 for not moving

    function animateBars() {
        var leftBarTop = parseInt(leftBar.style.top);
        var rightBarTop = parseInt(rightBar.style.top);

        // Check if the bars have reached the edges
        if (leftBarTop <= 10 || leftBarTop >= window.innerHeight - barHeight - 10) {
            leftBarDirection = -leftBarDirection; // reverse direction
        }
        if (rightBarTop <= 10 || rightBarTop >= window.innerHeight - barHeight - 10) {
            rightBarDirection = -rightBarDirection; // reverse direction
        }

        leftBar.style.top = (leftBarTop + barSpeed * leftBarDirection) + "px";
        rightBar.style.top = (rightBarTop + barSpeed * rightBarDirection) + "px";


        requestAnimationFrame(animateBars);
    }

    animateBars();
    function checkCollision() {
        var leftBarTop = parseInt(leftBar.style.top);
        var rightBarTop = parseInt(rightBar.style.top);

        // Check if the square collides with the bars
        if (x >= window.innerWidth - 20 - barWidth && y >= rightBarTop && y <= rightBarTop + barHeight) {
            dx = -dx; // reverse x velocity
        }
        else if (x <= barWidth && y >= leftBarTop && y <= leftBarTop + barHeight) {
            dx = -dx; // reverse x velocity
        }

        // Check if the square has reached the edges
        if (y <= 0 || y >= window.innerHeight - 20) {
            dy = -dy; // reverse y velocity
        }
        if (x <= 0 || x >= window.innerWidth - 20) {
            x = window.innerWidth / 2; // reset x position to the center of the screen
            y = window.innerHeight / 2; // reset y position to the center of the screen
            dx = -dx; // reverse x velocity
        }
    }

    function animateSquare() {
        x += dx;
        y += dy;

        checkCollision();

        square.style.width = "10px"; // set width to half of the original size
        square.style.height = "10px"; // set height to half of the original size

        square.style.left = x + "px";
        square.style.top = y + "px";

        requestAnimationFrame(animateSquare);
    }

    animateSquare();
</script>
</div>